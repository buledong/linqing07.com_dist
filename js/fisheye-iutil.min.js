jQuery.iFisheye={build:function(e){return this.each(function(){var t=this;t.fisheyeCfg={items:jQuery(e.items,this),container:jQuery(e.container,this),pos:jQuery.iUtil.getPosition(this),itemWidth:e.itemWidth,itemsText:e.itemsText,proximity:e.proximity,valign:e.valign,halign:e.halign,maxWidth:e.maxWidth},jQuery.iFisheye.positionContainer(t,0),jQuery(window).bind("resize",function(){t.fisheyeCfg.pos=jQuery.iUtil.getPosition(t),jQuery.iFisheye.positionContainer(t,0),jQuery.iFisheye.positionItems(t)}),jQuery.iFisheye.positionItems(t),t.fisheyeCfg.items.bind("mouseover",function(){jQuery(t.fisheyeCfg.itemsText,this).get(0).style.display="block"}).bind("mouseout",function(){jQuery(t.fisheyeCfg.itemsText,this).get(0).style.display="none"}),jQuery(document).bind("mousemove",function(e){var i=jQuery.iUtil.getPointer(e),s=0;if(t.fisheyeCfg.halign&&"center"==t.fisheyeCfg.halign)var n=i.x-t.fisheyeCfg.pos.x-(t.offsetWidth-t.fisheyeCfg.itemWidth*t.fisheyeCfg.items.size())/2-t.fisheyeCfg.itemWidth/2;else if(t.fisheyeCfg.halign&&"right"==t.fisheyeCfg.halign)var n=i.x-t.fisheyeCfg.pos.x-t.offsetWidth+t.fisheyeCfg.itemWidth*t.fisheyeCfg.items.size();else var n=i.x-t.fisheyeCfg.pos.x;var o=Math.pow(i.y-t.fisheyeCfg.pos.y-t.offsetHeight/2,2);t.fisheyeCfg.items.each(function(e){distance=Math.sqrt(Math.pow(n-e*t.fisheyeCfg.itemWidth,2)+o),distance-=t.fisheyeCfg.itemWidth/2,distance=0>distance?0:distance,distance=distance>t.fisheyeCfg.proximity?t.fisheyeCfg.proximity:distance,distance=t.fisheyeCfg.proximity-distance,extraWidth=t.fisheyeCfg.maxWidth*distance/t.fisheyeCfg.proximity,this.style.width=t.fisheyeCfg.itemWidth+extraWidth+"px",this.style.left=t.fisheyeCfg.itemWidth*e+s+"px",s+=extraWidth}),jQuery.iFisheye.positionContainer(t,s)})})},positionContainer:function(e,t){e.fisheyeCfg.halign&&("center"==e.fisheyeCfg.halign?e.fisheyeCfg.container.get(0).style.left=(e.offsetWidth-e.fisheyeCfg.itemWidth*e.fisheyeCfg.items.size())/2-t/2+"px":"left"==e.fisheyeCfg.halign?e.fisheyeCfg.container.get(0).style.left=-t/e.fisheyeCfg.items.size()+"px":"right"==e.fisheyeCfg.halign&&(e.fisheyeCfg.container.get(0).style.left=e.offsetWidth-e.fisheyeCfg.itemWidth*e.fisheyeCfg.items.size()-t/2+"px")),e.fisheyeCfg.container.get(0).style.width=e.fisheyeCfg.itemWidth*e.fisheyeCfg.items.size()+t+"px"},positionItems:function(e){e.fisheyeCfg.items.each(function(t){this.style.width=e.fisheyeCfg.itemWidth+"px",this.style.left=e.fisheyeCfg.itemWidth*t+"px"})}},jQuery.fn.Fisheye=jQuery.iFisheye.build,jQuery.iUtil={getPosition:function(e){var t=0,i=0,s=e.style,n=!1;if("none"==jQuery(e).css("display")){var o=s.visibility,r=s.position;n=!0,s.visibility="hidden",s.display="block",s.position="absolute"}for(var f=e;f;)t+=f.offsetLeft+(f.currentStyle&&!jQuery.browser.opera?parseInt(f.currentStyle.borderLeftWidth)||0:0),i+=f.offsetTop+(f.currentStyle&&!jQuery.browser.opera?parseInt(f.currentStyle.borderTopWidth)||0:0),f=f.offsetParent;for(f=e;f&&f.tagName&&"body"!=f.tagName.toLowerCase();)t-=f.scrollLeft||0,i-=f.scrollTop||0,f=f.parentNode;return 1==n&&(s.display="none",s.position=r,s.visibility=o),{x:t,y:i}},getPositionLite:function(e){for(var t=0,i=0;e;)t+=e.offsetLeft||0,i+=e.offsetTop||0,e=e.offsetParent;return{x:t,y:i}},getSize:function(e){var t=jQuery.css(e,"width"),i=jQuery.css(e,"height"),s=0,n=0,o=e.style;if("none"!=jQuery(e).css("display"))s=e.offsetWidth,n=e.offsetHeight;else{var r=o.visibility,f=o.position;o.visibility="hidden",o.display="block",o.position="absolute",s=e.offsetWidth,n=e.offsetHeight,o.display="none",o.position=f,o.visibility=r}return{w:t,h:i,wb:s,hb:n}},getSizeLite:function(e){return{wb:e.offsetWidth||0,hb:e.offsetHeight||0}},getClient:function(e){var t,i,s;return e?(i=e.clientWidth,t=e.clientHeight):(s=document.documentElement,i=window.innerWidth||self.innerWidth||s&&s.clientWidth||document.body.clientWidth,t=window.innerHeight||self.innerHeight||s&&s.clientHeight||document.body.clientHeight),{w:i,h:t}},getScroll:function(e){var t=0,i=0,s=0,n=0,o=0,r=0;return e&&"body"!=e.nodeName.toLowerCase()?(t=e.scrollTop,i=e.scrollLeft,s=e.scrollWidth,n=e.scrollHeight,o=0,r=0):(document.documentElement?(t=document.documentElement.scrollTop,i=document.documentElement.scrollLeft,s=document.documentElement.scrollWidth,n=document.documentElement.scrollHeight):document.body&&(t=document.body.scrollTop,i=document.body.scrollLeft,s=document.body.scrollWidth,n=document.body.scrollHeight),o=self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,r=self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0),{t:t,l:i,w:s,h:n,iw:o,ih:r}},getMargins:function(e,t){var i=jQuery(e),s=i.css("marginTop")||"",n=i.css("marginRight")||"",o=i.css("marginBottom")||"",r=i.css("marginLeft")||"";return t?{t:parseInt(s)||0,r:parseInt(n)||0,b:parseInt(o)||0,l:parseInt(r)}:{t:s,r:n,b:o,l:r}},getPadding:function(e,t){var i=jQuery(e),s=i.css("paddingTop")||"",n=i.css("paddingRight")||"",o=i.css("paddingBottom")||"",r=i.css("paddingLeft")||"";return t?{t:parseInt(s)||0,r:parseInt(n)||0,b:parseInt(o)||0,l:parseInt(r)}:{t:s,r:n,b:o,l:r}},getBorder:function(e,t){var i=jQuery(e),s=i.css("borderTopWidth")||"",n=i.css("borderRightWidth")||"",o=i.css("borderBottomWidth")||"",r=i.css("borderLeftWidth")||"";return t?{t:parseInt(s)||0,r:parseInt(n)||0,b:parseInt(o)||0,l:parseInt(r)||0}:{t:s,r:n,b:o,l:r}},getPointer:function(e){var t=e.pageX||e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)||0,i=e.pageY||e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)||0;return{x:t,y:i}},traverseDOM:function(e,t){for(t(e),e=e.firstChild;e;)jQuery.iUtil.traverseDOM(e,t),e=e.nextSibling},purgeEvents:function(e){jQuery.iUtil.traverseDOM(e,function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=null)})},centerEl:function(e,t){var i=jQuery.iUtil.getScroll(),s=jQuery.iUtil.getSize(e);t&&"vertically"!=t||jQuery(e).css({top:i.t+(Math.max(i.h,i.ih)-i.t-s.hb)/2+"px"}),t&&"horizontally"!=t||jQuery(e).css({left:i.l+(Math.max(i.w,i.iw)-i.l-s.wb)/2+"px"})},fixPNG:function(e,t){var i,s=jQuery('img[@src*="png"]',e||document);s.each(function(){i=this.src,this.src=t,this.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"')"})}},[].indexOf||(Array.prototype.indexOf=function(e,t){t=null==t?0:t;for(var i=this.length,s=t;i>s;s++)if(this[s]==e)return s;return-1});